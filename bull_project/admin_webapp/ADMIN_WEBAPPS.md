# üìã –ê–¥–º–∏–Ω—Å–∫–∏–µ WebApp —Ñ–∞–π–ª—ã

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### 1. **admin-panel.html** - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–Ω–µ–ª—å
–ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π:
- üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
- üë• –†–µ–π—Ç–∏–Ω–≥ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- üìà –ì—Ä–∞—Ñ–∏–∫–∏ –¥–∏–Ω–∞–º–∏–∫–∏ –ø—Ä–æ–¥–∞–∂ (Chart.js)
- üîç –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤ –ø–æ –¥–∞—Ç–µ

**API Endpoints –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ:**
- `GET /api/admin/analytics` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
- `GET /api/admin/managers` - —Å–ø–∏—Å–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- `GET /api/admin/manager/{id}` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- `GET /api/admin/search/packages` - –ø–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤

---

### 2. **admin-bookings.html** - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—Ä–æ–Ω–µ–π
–ü—Ä–æ—Å–º–æ—Ç—Ä –±—Ä–æ–Ω–µ–π –≤—Å–µ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:
- üìÖ –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ (—Å–µ–≥–æ–¥–Ω—è/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü/—Å–≤–æ–π)
- ‚úÖ –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (–≤—Å–µ/–∞–∫—Ç–∏–≤–Ω—ã–µ/–æ—Ç–º–µ–Ω–∞/–ø–µ—Ä–µ–Ω–æ—Å)
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- üë§ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –±—Ä–æ–Ω–∏

**API Endpoints –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ:**
- `GET /api/admin/bookings` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –±—Ä–æ–Ω–µ–π –∑–∞ –ø–µ—Ä–∏–æ–¥

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±—Ä–æ–Ω–∏ –í–°–ï–• –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç manager webapp)
- –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –ª—é–±–æ–π –ø–µ—Ä–∏–æ–¥
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

### 3. **admin-create-booking.html** - –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏:
- –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É "‚ûï –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω—å" –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
- –ó–∞–≥–ª—É—à–∫–∞, —Ç.–∫. —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –±–æ—Ç–µ

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º

### –•—ç–Ω–¥–ª–µ—Ä—ã (admin_handlers.py)

```python
# URLs –¥–ª—è WebApp
ADMIN_PANEL_URL = "https://your-username.github.io/admin-panel.html"
ADMIN_BOOKINGS_URL = "https://your-username.github.io/admin-bookings.html"
ADMIN_CREATE_URL = "https://your-username.github.io/admin-create-booking.html"

# –•—ç–Ω–¥–ª–µ—Ä—ã
@router.callback_query(F.data == "admin_webapp")  # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
@router.callback_query(F.data == "admin_bookings_list")  # –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–µ–π
@router.callback_query(F.data == "admin_create_booking_webapp")  # –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏
```

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ (keyboards.py)

```python
def admin_kb():
    return InlineKeyboardMarkup(inline_keyboard=[
        [InlineKeyboardButton(text="üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞", callback_data="admin_webapp")],
        [InlineKeyboardButton(text="üìã –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–µ–π", callback_data="admin_bookings_list")],
        [InlineKeyboardButton(text="‚≠ê –ó–∞–ø—Ä–æ—Å—ã 4U", callback_data="admin_stats")],  # –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ –≤ –±–æ—Ç–µ
        ...
    ])
```

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ HTML —Ñ–∞–π–ª—ã

**GitHub Pages:**
```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
# 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ HTML —Ñ–∞–π–ª—ã –∏–∑ admin_webapp/
# 3. Settings ‚Üí Pages ‚Üí Enable
# 4. –ü–æ–ª—É—á–∏—Ç–µ URLs:
# https://username.github.io/admin-panel.html
# https://username.github.io/admin-bookings.html
# https://ph1lomelaa.github.io/admin-requests.html
```

**–ò–ª–∏ Netlify:**
```bash
# –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ https://app.netlify.com/drop
```

### 2. –û–±–Ω–æ–≤–∏—Ç–µ URLs –≤ admin_handlers.py

```python
ADMIN_PANEL_URL = "https://your-username.github.io/admin-panel.html"
ADMIN_BOOKINGS_URL = "https://your-username.github.io/admin-bookings.html"
ADMIN_CREATE_URL = "https://your-username.github.io/admin-create-booking.html"
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –ë–æ—Ç
python main.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - API —Å–µ—Ä–≤–µ—Ä
python -m bull_bot.core.api_server
```

---

## –î–∏–∑–∞–π–Ω

–í—Å–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å **Hickmet Premium**:
- –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞: –±–µ–∂–µ–≤–æ-–±–µ–ª–∞—è (#FAF8F5, #F5F1EB, #9B8474)
- –®—Ä–∏—Ñ—Ç: Inter
- –ú—è–≥–∫–∏–µ —Ç–µ–Ω–∏ –∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
- Responsive –¥–∏–∑–∞–π–Ω

---

## API Backend

–í—Å–µ WebApp —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ API endpoints:

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ endpoints (api_server.py):

```python
# –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
GET /api/admin/analytics?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD

# –ú–µ–Ω–µ–¥–∂–µ—Ä—ã
GET /api/admin/managers

# –î–µ—Ç–∞–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
GET /api/admin/manager/{manager_id}?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD

# –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤
GET /api/admin/search/packages?date=–î–î.–ú–ú

# –ù–û–í–´–ô: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—Ä–æ–Ω–µ–π
GET /api/admin/bookings?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD
```

### –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ë–î (requests.py):

```python
# –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
async def get_full_analytics(start_date, end_date)

# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
async def get_manager_detailed_stats(manager_id, start_date, end_date)

# –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤ –ø–æ –¥–∞—Ç–µ
async def search_packages_by_date(date_str)

# –ù–û–í–ê–Ø: –í—Å–µ –±—Ä–æ–Ω–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
async def get_all_bookings_for_period(start_date, end_date)
```

---

## –û—Ç–ª–∏—á–∏—è –æ—Ç Manager WebApp

| –§—É–Ω–∫—Ü–∏—è | Manager WebApp | Admin WebApp |
|---------|---------------|--------------|
| –ò—Å—Ç–æ—Ä–∏—è –±—Ä–æ–Ω–µ–π | –¢–æ–ª—å–∫–æ —Å–≤–æ–∏ –±—Ä–æ–Ω–∏ | –ë—Ä–æ–Ω–∏ –í–°–ï–• –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ |
| –ü–µ—Ä–∏–æ–¥ | –ê–≤—Ç–æ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50) | –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ –∞–¥–º–∏–Ω–æ–º |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –õ–∏—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –û–±—â–∞—è + –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º |
| –§–∏–ª—å—Ç—Ä—ã | –ü–æ —Å—Ç–∞—Ç—É—Å–∞–º –∏ –ø–∞–∫–µ—Ç–∞–º | –ü–æ —Å—Ç–∞—Ç—É—Å–∞–º |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | –ù–µ—Ç | –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |

---

## –ó–∞–ø—Ä–æ—Å—ã 4U

**–í–∞–∂–Ω–æ:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª "–ó–∞–ø—Ä–æ—Å—ã 4U" –æ—Å—Ç–∞–ª—Å—è –≤ –±–æ—Ç–µ (—Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞)
- –ö–Ω–æ–ø–∫–∞ "‚≠ê –ó–∞–ø—Ä–æ—Å—ã 4U" –≤ –∞–¥–º–∏–Ω –º–µ–Ω—é
- callback_data="admin_stats"
- –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –º–µ–Ω—é –≤ –±–æ—Ç–µ

---

## Troubleshooting

**WebApp –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:**
- ‚úÖ HTML —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ HTTPS
- ‚úÖ URLs –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã –≤ admin_handlers.py
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

**API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:**
- ‚úÖ –ó–∞–ø—É—â–µ–Ω `python -m bull_bot.core.api_server`
- ‚úÖ –ü–æ—Ä—Ç 8000 –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ api_server.py

**–ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–µ–π:**
- ‚úÖ –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
- ‚úÖ –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ API —Å–µ—Ä–≤–µ—Ä–∞

---

**–í–µ—Ä—Å–∏—è:** 2.1.0
**–î–∞—Ç–∞:** 18 –¥–µ–∫–∞–±—Ä—è 2024
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready
